package custom_types

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql/driver"
	"errors"
)

// Permission is the 'permission' enum type from schema 'public'.
type Permission uint16

const (
	// PermissionNone is the 'NONE' Permission.
	PermissionNone = Permission(1)

	// PermissionPublic is the 'PUBLIC' Permission.
	PermissionPublic = Permission(2)

	// PermissionShared is the 'SHARED' Permission.
	PermissionShared = Permission(3)

	// PermissionRead is the 'READ' Permission.
	PermissionRead = Permission(4)

	// PermissionEdit is the 'EDIT' Permission.
	PermissionEdit = Permission(5)

	// PermissionAdmin is the 'ADMIN' Permission.
	PermissionAdmin = Permission(6)
)

// String returns the string value of the Permission.
func (p Permission) String() string {
	var enumVal string

	switch p {
	case PermissionNone:
		enumVal = "NONE"

	case PermissionPublic:
		enumVal = "PUBLIC"

	case PermissionShared:
		enumVal = "SHARED"

	case PermissionRead:
		enumVal = "READ"

	case PermissionEdit:
		enumVal = "EDIT"

	case PermissionAdmin:
		enumVal = "ADMIN"
	}

	return enumVal
}

// MarshalText marshals Permission into text.
func (p Permission) MarshalText() ([]byte, error) {
	return []byte(p.String()), nil
}

// UnmarshalText unmarshals Permission from text.
func (p *Permission) UnmarshalText(text []byte) error {
	switch string(text) {
	case "NONE":
		*p = PermissionNone

	case "PUBLIC":
		*p = PermissionPublic

	case "SHARED":
		*p = PermissionShared

	case "READ":
		*p = PermissionRead

	case "EDIT":
		*p = PermissionEdit

	case "ADMIN":
		*p = PermissionAdmin

	default:
		return errors.New("invalid Permission")
	}

	return nil
}

// Value satisfies the sql/driver.Valuer interface for Permission.
func (p Permission) Value() (driver.Value, error) {
	return p.String(), nil
}

// Scan satisfies the database/sql.Scanner interface for Permission.
func (p *Permission) Scan(src interface{}) error {
	buf, ok := src.([]byte)
	if !ok {
		return errors.New("invalid Permission")
	}

	return p.UnmarshalText(buf)
}

// Nullable Permission. Just a wrapper around Permission.
type NullPermission struct {
	Permission Permission
	Valid      bool
}

// Implements Scanner interface.
// This is what is used to convert a column of type action from a postgres query
// into this Go type. The argument has the []byte representation of the column.
// Null columns scan to nv.Valid == false.
func (nv *NullPermission) Scan(value interface{}) error {
	if value == nil {
		nv.Permission, nv.Valid = Permission(0), false
		return nil
	}
	err := nv.Permission.Scan(value)
	if err != nil {
		nv.Valid = false
		return err
	} else {
		nv.Valid = true
		return nil
	}
}

// Implements Valuer interface
// This is what is used to convert a  Go type action to a postgres type.
// Valid == false turns into a Null value.
func (nv NullPermission) Value() (driver.Value, error) {
	if !nv.Valid {
		return nil, nil
	}
	return nv.Permission.Value()
}

// This function is used for testing SQLBoiler models, i.e. randomization
// for models that have a NullPermission column.
// Obviously it's not random but it doesn't really need to be anyway.
func NullPermissionRandom() NullPermission {
	return NullPermission{PermissionAdmin, true}
}

// This function is used for testing SQLBoiler models, i.e. randomization
// for models that have a Permission column.
// Obviously it's not random but it doesn't really need to be anyway.
func PermissionRandom() Permission {
	return PermissionAdmin
}
